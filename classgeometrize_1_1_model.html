<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Geometrize: geometrize::Model Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo_small.png"/></td>
  <td id="projectalign">
   <div id="projectname">Geometrize<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">C++ library for geometrizing images into geometric primitives</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegeometrize.html">geometrize</a></li><li class="navelem"><a class="el" href="classgeometrize_1_1_model.html">Model</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classgeometrize_1_1_model-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">geometrize::Model Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classgeometrize_1_1_model.html" title="The Model class is the model for the core optimization/fitting algorithm.">Model</a> class is the model for the core optimization/fitting algorithm.  
 <a href="classgeometrize_1_1_model.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="model_8h_source.html">model.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeometrize_1_1_model_1_1_model_impl.html">ModelImpl</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa8439cfeebe7b361b1b1398130d82bcb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeometrize_1_1_model.html#aa8439cfeebe7b361b1b1398130d82bcb">Model</a> (const <a class="el" href="classgeometrize_1_1_bitmap.html">geometrize::Bitmap</a> &amp;target)</td></tr>
<tr class="memdesc:aa8439cfeebe7b361b1b1398130d82bcb"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classgeometrize_1_1_model.html" title="The Model class is the model for the core optimization/fitting algorithm.">Model</a> Creates a model that will aim to replicate the target bitmap with shapes.  <a href="classgeometrize_1_1_model.html#aa8439cfeebe7b361b1b1398130d82bcb">More...</a><br /></td></tr>
<tr class="separator:aa8439cfeebe7b361b1b1398130d82bcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a481ffd20c6fc83193cb657d72fe00b6f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeometrize_1_1_model.html#a481ffd20c6fc83193cb657d72fe00b6f">Model</a> (const <a class="el" href="classgeometrize_1_1_bitmap.html">geometrize::Bitmap</a> &amp;target, const <a class="el" href="classgeometrize_1_1_bitmap.html">geometrize::Bitmap</a> &amp;initial)</td></tr>
<tr class="memdesc:a481ffd20c6fc83193cb657d72fe00b6f"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classgeometrize_1_1_model.html" title="The Model class is the model for the core optimization/fitting algorithm.">Model</a> Creates a model that will optimize for the given target bitmap, starting from the given initial bitmap. The target bitmap and initial bitmap must be the same size (width and height).  <a href="classgeometrize_1_1_model.html#a481ffd20c6fc83193cb657d72fe00b6f">More...</a><br /></td></tr>
<tr class="separator:a481ffd20c6fc83193cb657d72fe00b6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21ffc3077b83922b24a0cbac0551cc96"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeometrize_1_1_model.html#a21ffc3077b83922b24a0cbac0551cc96">~Model</a> ()</td></tr>
<tr class="separator:a21ffc3077b83922b24a0cbac0551cc96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a314e78c15cb393190ab5b79a9ef57358"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgeometrize_1_1_model.html">Model</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeometrize_1_1_model.html#a314e78c15cb393190ab5b79a9ef57358">operator=</a> (const <a class="el" href="classgeometrize_1_1_model.html">Model</a> &amp;)=delete</td></tr>
<tr class="separator:a314e78c15cb393190ab5b79a9ef57358"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a61a9f56ea32710dab628da12de084a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeometrize_1_1_model.html#a0a61a9f56ea32710dab628da12de084a">Model</a> (const <a class="el" href="classgeometrize_1_1_model.html">Model</a> &amp;)=delete</td></tr>
<tr class="separator:a0a61a9f56ea32710dab628da12de084a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d7392e37246a85ce85045b90ecce285"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeometrize_1_1_model.html#a3d7392e37246a85ce85045b90ecce285">reset</a> (<a class="el" href="structgeometrize_1_1rgba.html">geometrize::rgba</a> backgroundColor)</td></tr>
<tr class="memdesc:a3d7392e37246a85ce85045b90ecce285"><td class="mdescLeft">&#160;</td><td class="mdescRight">reset Resets the model back to the state it was in when it was created.  <a href="classgeometrize_1_1_model.html#a3d7392e37246a85ce85045b90ecce285">More...</a><br /></td></tr>
<tr class="separator:a3d7392e37246a85ce85045b90ecce285"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7be1651096caeedf3d771f66190e8b04"><td class="memItemLeft" align="right" valign="top">std::int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeometrize_1_1_model.html#a7be1651096caeedf3d771f66190e8b04">getWidth</a> () const</td></tr>
<tr class="memdesc:a7be1651096caeedf3d771f66190e8b04"><td class="mdescLeft">&#160;</td><td class="mdescRight">getWidth Gets the width of the target bitmap.  <a href="classgeometrize_1_1_model.html#a7be1651096caeedf3d771f66190e8b04">More...</a><br /></td></tr>
<tr class="separator:a7be1651096caeedf3d771f66190e8b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97aff7d5cd9ee716c529d1a01a3f77e2"><td class="memItemLeft" align="right" valign="top">std::int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeometrize_1_1_model.html#a97aff7d5cd9ee716c529d1a01a3f77e2">getHeight</a> () const</td></tr>
<tr class="memdesc:a97aff7d5cd9ee716c529d1a01a3f77e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">getHeight Gets the height of the target bitmap.  <a href="classgeometrize_1_1_model.html#a97aff7d5cd9ee716c529d1a01a3f77e2">More...</a><br /></td></tr>
<tr class="separator:a97aff7d5cd9ee716c529d1a01a3f77e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afefe1f7b0b1ca622cf124b5c1751891b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structgeometrize_1_1_shape_result.html">geometrize::ShapeResult</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeometrize_1_1_model.html#afefe1f7b0b1ca622cf124b5c1751891b">step</a> (const std::function&lt; std::shared_ptr&lt; <a class="el" href="classgeometrize_1_1_shape.html">geometrize::Shape</a> &gt;(void)&gt; &amp;shapeCreator, std::uint8_t alpha, std::uint32_t shapeCount, std::uint32_t maxShapeMutations, std::uint32_t maxThreads, const <a class="el" href="namespacegeometrize_1_1core.html#a32c32a68cc462cb980fbf116f79ef15c">geometrize::core::EnergyFunction</a> &amp;energyFunction=nullptr, const <a class="el" href="namespacegeometrize.html#ac9ef4c6b80b29ca9a9af6d7608612777">geometrize::ShapeAcceptancePreconditionFunction</a> &amp;addShapePrecondition=nullptr)</td></tr>
<tr class="memdesc:afefe1f7b0b1ca622cf124b5c1751891b"><td class="mdescLeft">&#160;</td><td class="mdescRight">step Steps the primitive optimization/fitting algorithm.  <a href="classgeometrize_1_1_model.html#afefe1f7b0b1ca622cf124b5c1751891b">More...</a><br /></td></tr>
<tr class="separator:afefe1f7b0b1ca622cf124b5c1751891b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b8dfbf04667d581d9505cc08930a555"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structgeometrize_1_1_shape_result.html">geometrize::ShapeResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeometrize_1_1_model.html#a3b8dfbf04667d581d9505cc08930a555">drawShape</a> (std::shared_ptr&lt; <a class="el" href="classgeometrize_1_1_shape.html">geometrize::Shape</a> &gt; shape, <a class="el" href="structgeometrize_1_1rgba.html">geometrize::rgba</a> color)</td></tr>
<tr class="memdesc:a3b8dfbf04667d581d9505cc08930a555"><td class="mdescLeft">&#160;</td><td class="mdescRight">drawShape Draws a shape on the model. Typically used when to manually add a shape to the image (e.g. when setting an initial background). NOTE this unconditionally draws the shape, even if it increases the difference between the source and target image.  <a href="classgeometrize_1_1_model.html#a3b8dfbf04667d581d9505cc08930a555">More...</a><br /></td></tr>
<tr class="separator:a3b8dfbf04667d581d9505cc08930a555"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59e8e82ad43d6e5d43d1d540410dbd62"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgeometrize_1_1_bitmap.html">geometrize::Bitmap</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeometrize_1_1_model.html#a59e8e82ad43d6e5d43d1d540410dbd62">getCurrent</a> ()</td></tr>
<tr class="memdesc:a59e8e82ad43d6e5d43d1d540410dbd62"><td class="mdescLeft">&#160;</td><td class="mdescRight">getCurrent Gets the current bitmap.  <a href="classgeometrize_1_1_model.html#a59e8e82ad43d6e5d43d1d540410dbd62">More...</a><br /></td></tr>
<tr class="separator:a59e8e82ad43d6e5d43d1d540410dbd62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ca4d2ccbbe0867916249a007c14bd87"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgeometrize_1_1_bitmap.html">geometrize::Bitmap</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeometrize_1_1_model.html#a0ca4d2ccbbe0867916249a007c14bd87">getTarget</a> ()</td></tr>
<tr class="memdesc:a0ca4d2ccbbe0867916249a007c14bd87"><td class="mdescLeft">&#160;</td><td class="mdescRight">getTarget Gets the target bitmap.  <a href="classgeometrize_1_1_model.html#a0ca4d2ccbbe0867916249a007c14bd87">More...</a><br /></td></tr>
<tr class="separator:a0ca4d2ccbbe0867916249a007c14bd87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68f21e52c1a1d8d3202b5bb78a42d2c4"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classgeometrize_1_1_bitmap.html">geometrize::Bitmap</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeometrize_1_1_model.html#a68f21e52c1a1d8d3202b5bb78a42d2c4">getCurrent</a> () const</td></tr>
<tr class="memdesc:a68f21e52c1a1d8d3202b5bb78a42d2c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">getCurrent Gets the current bitmap, const-edition.  <a href="classgeometrize_1_1_model.html#a68f21e52c1a1d8d3202b5bb78a42d2c4">More...</a><br /></td></tr>
<tr class="separator:a68f21e52c1a1d8d3202b5bb78a42d2c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4bb1ee63849b8088520c3ee527749e6"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classgeometrize_1_1_bitmap.html">geometrize::Bitmap</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeometrize_1_1_model.html#ad4bb1ee63849b8088520c3ee527749e6">getTarget</a> () const</td></tr>
<tr class="memdesc:ad4bb1ee63849b8088520c3ee527749e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">getTarget Gets the target bitmap, const-edition.  <a href="classgeometrize_1_1_model.html#ad4bb1ee63849b8088520c3ee527749e6">More...</a><br /></td></tr>
<tr class="separator:ad4bb1ee63849b8088520c3ee527749e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a789fb3a182e871ca51a1cde8a990289a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeometrize_1_1_model.html#a789fb3a182e871ca51a1cde8a990289a">setSeed</a> (std::uint32_t seed)</td></tr>
<tr class="memdesc:a789fb3a182e871ca51a1cde8a990289a"><td class="mdescLeft">&#160;</td><td class="mdescRight">setSeed Sets the seed that the random number generators of this model use. Note that the model also uses an internal seed offset which is incremented when the model is stepped.  <a href="classgeometrize_1_1_model.html#a789fb3a182e871ca51a1cde8a990289a">More...</a><br /></td></tr>
<tr class="separator:a789fb3a182e871ca51a1cde8a990289a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ac366034ce00d905c0592d76d6d40d381"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classgeometrize_1_1_model_1_1_model_impl.html">Model::ModelImpl</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeometrize_1_1_model.html#ac366034ce00d905c0592d76d6d40d381">d</a></td></tr>
<tr class="separator:ac366034ce00d905c0592d76d6d40d381"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >The <a class="el" href="classgeometrize_1_1_model.html" title="The Model class is the model for the core optimization/fitting algorithm.">Model</a> class is the model for the core optimization/fitting algorithm. </p>
<dl class="section author"><dt>Author</dt><dd>Sam Twidale (<a href="https://samcodes.co.uk/">https://samcodes.co.uk/</a>) </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa8439cfeebe7b361b1b1398130d82bcb" name="aa8439cfeebe7b361b1b1398130d82bcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8439cfeebe7b361b1b1398130d82bcb">&#9670;&nbsp;</a></span>Model() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">geometrize::Model::Model </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgeometrize_1_1_bitmap.html">geometrize::Bitmap</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classgeometrize_1_1_model.html" title="The Model class is the model for the core optimization/fitting algorithm.">Model</a> Creates a model that will aim to replicate the target bitmap with shapes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>The target bitmap to replicate with shapes. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">  221</span>                                           : <a class="code hl_variable" href="classgeometrize_1_1_model.html#ac366034ce00d905c0592d76d6d40d381">d</a>{std::unique_ptr&lt;Model::ModelImpl&gt;(<span class="keyword">new</span> Model::ModelImpl(target))}</div>
<div class="line"><span class="lineno">  222</span>{}</div>
<div class="ttc" id="aclassgeometrize_1_1_model_html_ac366034ce00d905c0592d76d6d40d381"><div class="ttname"><a href="classgeometrize_1_1_model.html#ac366034ce00d905c0592d76d6d40d381">geometrize::Model::d</a></div><div class="ttdeci">std::unique_ptr&lt; Model::ModelImpl &gt; d</div><div class="ttdef"><b>Definition:</b> model.h:146</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a481ffd20c6fc83193cb657d72fe00b6f" name="a481ffd20c6fc83193cb657d72fe00b6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a481ffd20c6fc83193cb657d72fe00b6f">&#9670;&nbsp;</a></span>Model() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">geometrize::Model::Model </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgeometrize_1_1_bitmap.html">geometrize::Bitmap</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classgeometrize_1_1_bitmap.html">geometrize::Bitmap</a> &amp;&#160;</td>
          <td class="paramname"><em>initial</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classgeometrize_1_1_model.html" title="The Model class is the model for the core optimization/fitting algorithm.">Model</a> Creates a model that will optimize for the given target bitmap, starting from the given initial bitmap. The target bitmap and initial bitmap must be the same size (width and height). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>The target bitmap to replicate with shapes. </td></tr>
    <tr><td class="paramname">initial</td><td>The starting bitmap. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">  224</span>                                                                            : <a class="code hl_variable" href="classgeometrize_1_1_model.html#ac366034ce00d905c0592d76d6d40d381">d</a>{std::unique_ptr&lt;Model::ModelImpl&gt;(<span class="keyword">new</span> Model::ModelImpl(target, initial))}</div>
<div class="line"><span class="lineno">  225</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a21ffc3077b83922b24a0cbac0551cc96" name="a21ffc3077b83922b24a0cbac0551cc96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21ffc3077b83922b24a0cbac0551cc96">&#9670;&nbsp;</a></span>~Model()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">geometrize::Model::~Model </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  228</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0a61a9f56ea32710dab628da12de084a" name="a0a61a9f56ea32710dab628da12de084a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a61a9f56ea32710dab628da12de084a">&#9670;&nbsp;</a></span>Model() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">geometrize::Model::Model </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgeometrize_1_1_model.html">Model</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3b8dfbf04667d581d9505cc08930a555" name="a3b8dfbf04667d581d9505cc08930a555"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b8dfbf04667d581d9505cc08930a555">&#9670;&nbsp;</a></span>drawShape()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structgeometrize_1_1_shape_result.html">geometrize::ShapeResult</a> geometrize::Model::drawShape </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classgeometrize_1_1_shape.html">geometrize::Shape</a> &gt;&#160;</td>
          <td class="paramname"><em>shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgeometrize_1_1rgba.html">geometrize::rgba</a>&#160;</td>
          <td class="paramname"><em>color</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>drawShape Draws a shape on the model. Typically used when to manually add a shape to the image (e.g. when setting an initial background). NOTE this unconditionally draws the shape, even if it increases the difference between the source and target image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">shape</td><td>The shape to draw. </td></tr>
    <tr><td class="paramname">color</td><td>The color (including alpha) of the shape. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Data about the shape drawn on the model. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  258</span>{</div>
<div class="line"><span class="lineno">  259</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classgeometrize_1_1_model.html#ac366034ce00d905c0592d76d6d40d381">d</a>-&gt;drawShape(shape, color);</div>
<div class="line"><span class="lineno">  260</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a59e8e82ad43d6e5d43d1d540410dbd62" name="a59e8e82ad43d6e5d43d1d540410dbd62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59e8e82ad43d6e5d43d1d540410dbd62">&#9670;&nbsp;</a></span>getCurrent() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgeometrize_1_1_bitmap.html">geometrize::Bitmap</a> &amp; geometrize::Model::getCurrent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>getCurrent Gets the current bitmap. </p>
<dl class="section return"><dt>Returns</dt><dd>The current bitmap. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  268</span>{</div>
<div class="line"><span class="lineno">  269</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classgeometrize_1_1_model.html#ac366034ce00d905c0592d76d6d40d381">d</a>-&gt;getCurrent();</div>
<div class="line"><span class="lineno">  270</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classgeometrize_1_1_model_a59e8e82ad43d6e5d43d1d540410dbd62_icgraph.png" border="0" usemap="#aclassgeometrize_1_1_model_a59e8e82ad43d6e5d43d1d540410dbd62_icgraph" alt=""/></div>
<map name="aclassgeometrize_1_1_model_a59e8e82ad43d6e5d43d1d540410dbd62_icgraph" id="aclassgeometrize_1_1_model_a59e8e82ad43d6e5d43d1d540410dbd62_icgraph">
<area shape="rect" title="getCurrent Gets the current bitmap." alt="" coords="276,5,428,47"/>
<area shape="rect" href="classgeometrize_1_1_image_runner_1_1_image_runner_impl.html#a47f1a1616173c2444442bc77d71a45f2" title=" " alt="" coords="5,5,228,47"/>
</map>
</div>

</div>
</div>
<a id="a68f21e52c1a1d8d3202b5bb78a42d2c4" name="a68f21e52c1a1d8d3202b5bb78a42d2c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68f21e52c1a1d8d3202b5bb78a42d2c4">&#9670;&nbsp;</a></span>getCurrent() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classgeometrize_1_1_bitmap.html">geometrize::Bitmap</a> &amp; geometrize::Model::getCurrent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>getCurrent Gets the current bitmap, const-edition. </p>
<dl class="section return"><dt>Returns</dt><dd>The current bitmap. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  278</span>{</div>
<div class="line"><span class="lineno">  279</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classgeometrize_1_1_model.html#ac366034ce00d905c0592d76d6d40d381">d</a>-&gt;getCurrent();</div>
<div class="line"><span class="lineno">  280</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a97aff7d5cd9ee716c529d1a01a3f77e2" name="a97aff7d5cd9ee716c529d1a01a3f77e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97aff7d5cd9ee716c529d1a01a3f77e2">&#9670;&nbsp;</a></span>getHeight()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::int32_t geometrize::Model::getHeight </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>getHeight Gets the height of the target bitmap. </p>
<dl class="section return"><dt>Returns</dt><dd>The height of the target bitmap. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  241</span>{</div>
<div class="line"><span class="lineno">  242</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classgeometrize_1_1_model.html#ac366034ce00d905c0592d76d6d40d381">d</a>-&gt;getHeight();</div>
<div class="line"><span class="lineno">  243</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0ca4d2ccbbe0867916249a007c14bd87" name="a0ca4d2ccbbe0867916249a007c14bd87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ca4d2ccbbe0867916249a007c14bd87">&#9670;&nbsp;</a></span>getTarget() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgeometrize_1_1_bitmap.html">geometrize::Bitmap</a> &amp; geometrize::Model::getTarget </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>getTarget Gets the target bitmap. </p>
<dl class="section return"><dt>Returns</dt><dd>The target bitmap. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  263</span>{</div>
<div class="line"><span class="lineno">  264</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classgeometrize_1_1_model.html#ac366034ce00d905c0592d76d6d40d381">d</a>-&gt;getTarget();</div>
<div class="line"><span class="lineno">  265</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classgeometrize_1_1_model_a0ca4d2ccbbe0867916249a007c14bd87_icgraph.png" border="0" usemap="#aclassgeometrize_1_1_model_a0ca4d2ccbbe0867916249a007c14bd87_icgraph" alt=""/></div>
<map name="aclassgeometrize_1_1_model_a0ca4d2ccbbe0867916249a007c14bd87_icgraph" id="aclassgeometrize_1_1_model_a0ca4d2ccbbe0867916249a007c14bd87_icgraph">
<area shape="rect" title="getTarget Gets the target bitmap." alt="" coords="268,39,420,80"/>
<area shape="rect" href="classgeometrize_1_1_image_runner_1_1_image_runner_impl.html#a3f9edc68c6c0c474adaa5f29d9dc82cb" title=" " alt="" coords="5,5,220,47"/>
<area shape="rect" href="classgeometrize_1_1_image_runner_1_1_image_runner_impl.html#a2b9045a7df6df49bb6bc89f1e435e1cf" title=" " alt="" coords="17,71,208,112"/>
</map>
</div>

</div>
</div>
<a id="ad4bb1ee63849b8088520c3ee527749e6" name="ad4bb1ee63849b8088520c3ee527749e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4bb1ee63849b8088520c3ee527749e6">&#9670;&nbsp;</a></span>getTarget() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classgeometrize_1_1_bitmap.html">geometrize::Bitmap</a> &amp; geometrize::Model::getTarget </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>getTarget Gets the target bitmap, const-edition. </p>
<dl class="section return"><dt>Returns</dt><dd>The target bitmap. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  273</span>{</div>
<div class="line"><span class="lineno">  274</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classgeometrize_1_1_model.html#ac366034ce00d905c0592d76d6d40d381">d</a>-&gt;getTarget();</div>
<div class="line"><span class="lineno">  275</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7be1651096caeedf3d771f66190e8b04" name="a7be1651096caeedf3d771f66190e8b04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7be1651096caeedf3d771f66190e8b04">&#9670;&nbsp;</a></span>getWidth()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::int32_t geometrize::Model::getWidth </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>getWidth Gets the width of the target bitmap. </p>
<dl class="section return"><dt>Returns</dt><dd>The width of the target bitmap. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  236</span>{</div>
<div class="line"><span class="lineno">  237</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classgeometrize_1_1_model.html#ac366034ce00d905c0592d76d6d40d381">d</a>-&gt;getWidth();</div>
<div class="line"><span class="lineno">  238</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a314e78c15cb393190ab5b79a9ef57358" name="a314e78c15cb393190ab5b79a9ef57358"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a314e78c15cb393190ab5b79a9ef57358">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgeometrize_1_1_model.html">Model</a> &amp; geometrize::Model::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgeometrize_1_1_model.html">Model</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3d7392e37246a85ce85045b90ecce285" name="a3d7392e37246a85ce85045b90ecce285"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d7392e37246a85ce85045b90ecce285">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void geometrize::Model::reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgeometrize_1_1rgba.html">geometrize::rgba</a>&#160;</td>
          <td class="paramname"><em>backgroundColor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>reset Resets the model back to the state it was in when it was created. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">backgroundColor</td><td>The starting background color to use. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">  231</span>{</div>
<div class="line"><span class="lineno">  232</span>    <a class="code hl_variable" href="classgeometrize_1_1_model.html#ac366034ce00d905c0592d76d6d40d381">d</a>-&gt;reset(backgroundColor);</div>
<div class="line"><span class="lineno">  233</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a789fb3a182e871ca51a1cde8a990289a" name="a789fb3a182e871ca51a1cde8a990289a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a789fb3a182e871ca51a1cde8a990289a">&#9670;&nbsp;</a></span>setSeed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void geometrize::Model::setSeed </td>
          <td>(</td>
          <td class="paramtype">std::uint32_t&#160;</td>
          <td class="paramname"><em>seed</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>setSeed Sets the seed that the random number generators of this model use. Note that the model also uses an internal seed offset which is incremented when the model is stepped. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">seed</td><td>The random number generator seed. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">  283</span>{</div>
<div class="line"><span class="lineno">  284</span>    <a class="code hl_variable" href="classgeometrize_1_1_model.html#ac366034ce00d905c0592d76d6d40d381">d</a>-&gt;setSeed(seed);</div>
<div class="line"><span class="lineno">  285</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classgeometrize_1_1_model_a789fb3a182e871ca51a1cde8a990289a_icgraph.png" border="0" usemap="#aclassgeometrize_1_1_model_a789fb3a182e871ca51a1cde8a990289a_icgraph" alt=""/></div>
<map name="aclassgeometrize_1_1_model_a789fb3a182e871ca51a1cde8a990289a_icgraph" id="aclassgeometrize_1_1_model_a789fb3a182e871ca51a1cde8a990289a_icgraph">
<area shape="rect" title="setSeed Sets the seed that the random number generators of this model use. Note that the model also u..." alt="" coords="244,5,396,47"/>
<area shape="rect" href="classgeometrize_1_1_image_runner_1_1_image_runner_impl.html#a2b9045a7df6df49bb6bc89f1e435e1cf" title=" " alt="" coords="5,5,196,47"/>
</map>
</div>

</div>
</div>
<a id="afefe1f7b0b1ca622cf124b5c1751891b" name="afefe1f7b0b1ca622cf124b5c1751891b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afefe1f7b0b1ca622cf124b5c1751891b">&#9670;&nbsp;</a></span>step()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structgeometrize_1_1_shape_result.html">geometrize::ShapeResult</a> &gt; geometrize::Model::step </td>
          <td>(</td>
          <td class="paramtype">const std::function&lt; std::shared_ptr&lt; <a class="el" href="classgeometrize_1_1_shape.html">geometrize::Shape</a> &gt;(void)&gt; &amp;&#160;</td>
          <td class="paramname"><em>shapeCreator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint8_t&#160;</td>
          <td class="paramname"><em>alpha</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint32_t&#160;</td>
          <td class="paramname"><em>shapeCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint32_t&#160;</td>
          <td class="paramname"><em>maxShapeMutations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint32_t&#160;</td>
          <td class="paramname"><em>maxThreads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacegeometrize_1_1core.html#a32c32a68cc462cb980fbf116f79ef15c">geometrize::core::EnergyFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>energyFunction</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacegeometrize.html#ac9ef4c6b80b29ca9a9af6d7608612777">geometrize::ShapeAcceptancePreconditionFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>addShapePrecondition</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>step Steps the primitive optimization/fitting algorithm. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">shapeCreator</td><td>A function that will produce the shapes. </td></tr>
    <tr><td class="paramname">alpha</td><td>The alpha of the shape. </td></tr>
    <tr><td class="paramname">shapeCount</td><td>The number of random shapes to generate (only 1 is chosen in the end). </td></tr>
    <tr><td class="paramname">maxShapeMutations</td><td>The maximum number of times to mutate each random shape. </td></tr>
    <tr><td class="paramname">maxThreads</td><td>The maximum number of threads to use during this step. </td></tr>
    <tr><td class="paramname">energyFunction</td><td>An optional function to calculate the energy (if unspecified a default implementation is used). </td></tr>
    <tr><td class="paramname">addShapePrecondition</td><td>An optional function to determine whether to accept a shape (if unspecified a default implementation is used). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A vector containing data about the shapes added to the model in this step. This may be empty if no shape that improved the image could be found. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  253</span>{</div>
<div class="line"><span class="lineno">  254</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classgeometrize_1_1_model.html#ac366034ce00d905c0592d76d6d40d381">d</a>-&gt;step(shapeCreator, alpha, shapeCount, maxShapeMutations, maxThreads, energyFunction, addShapePrecondition);</div>
<div class="line"><span class="lineno">  255</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classgeometrize_1_1_model_afefe1f7b0b1ca622cf124b5c1751891b_icgraph.png" border="0" usemap="#aclassgeometrize_1_1_model_afefe1f7b0b1ca622cf124b5c1751891b_icgraph" alt=""/></div>
<map name="aclassgeometrize_1_1_model_afefe1f7b0b1ca622cf124b5c1751891b_icgraph" id="aclassgeometrize_1_1_model_afefe1f7b0b1ca622cf124b5c1751891b_icgraph">
<area shape="rect" title="step Steps the primitive optimization/fitting algorithm." alt="" coords="244,13,424,39"/>
<area shape="rect" href="classgeometrize_1_1_image_runner_1_1_image_runner_impl.html#a2b9045a7df6df49bb6bc89f1e435e1cf" title=" " alt="" coords="5,5,196,47"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ac366034ce00d905c0592d76d6d40d381" name="ac366034ce00d905c0592d76d6d40d381"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac366034ce00d905c0592d76d6d40d381">&#9670;&nbsp;</a></span>d</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classgeometrize_1_1_model_1_1_model_impl.html">Model::ModelImpl</a>&gt; geometrize::Model::d</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/appveyor/projects/geometrize-lib-docs/geometrize-lib/geometrize/geometrize/<a class="el" href="model_8h_source.html">model.h</a></li>
<li>/home/appveyor/projects/geometrize-lib-docs/geometrize-lib/geometrize/geometrize/<a class="el" href="model_8cpp.html">model.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 18 2022 07:36:41 for Geometrize by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
